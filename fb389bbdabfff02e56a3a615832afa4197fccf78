{
  "comments": [
    {
      "key": {
        "uuid": "56aa2764_2f9e87d2",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/readonly/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2018-08-06T19:44:13Z",
      "side": 1,
      "message": "As far as I understand, this creates 3 new endpoints:\n\n $site/config/readonly\n $site/config/ready\n $site/config/state\n\nwhich is another of the reasons why I implemented it with a separate servlet on the root URL.  I didn\u0027t want to introduce that complexity, but rather have the single endpoint at /readonly",
      "revId": "fb389bbdabfff02e56a3a615832afa4197fccf78",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47e21341_85c29b1b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/readonly/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-08-07T04:56:44Z",
      "side": 1,
      "message": "Current implementation exposes 3 endpoints:\n\n* GET /config/server/readonly~state\n* PUT /config/server/readonly~readonly\n* PUT /config/server/readonly~ready\n\nI assumed that having separate endpoint is more clear. If wanted they can be re-written in the way, you did in standalone servlet implementation:\n\n* GET /config/server/readonly~readonly\n* PUT /config/server/readonly~readonly\n* DELETE /config/server/readonly~readonly\n\nRestApiServlet supports all that.",
      "parentUuid": "56aa2764_2f9e87d2",
      "revId": "fb389bbdabfff02e56a3a615832afa4197fccf78",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "922e10f0_3b8834d8",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/readonly/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2018-08-07T09:26:31Z",
      "side": 1,
      "message": "I would prefer a single endpoint but I\u0027m not going to block this change if anyone else prefers to keep them separate.",
      "parentUuid": "47e21341_85c29b1b",
      "revId": "fb389bbdabfff02e56a3a615832afa4197fccf78",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3fed32a_5bc4b807",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/readonly/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2018-08-07T09:36:09Z",
      "side": 1,
      "message": "I have no strong opinion on single vs multiple endpoints so for me it resolves to question if we can write efficient filter for that.\nFor me it looks easier to write filter that does:\n\n  path.endsWith(\"config/server/readonly~readonly\")\n\nand I can imagine that it should be also quite fast to evaluate - if having dedicated endpoints mean that we are giving some efficiency then you have your answer ;) hope that is not making things harder to decide :D",
      "parentUuid": "922e10f0_3b8834d8",
      "revId": "fb389bbdabfff02e56a3a615832afa4197fccf78",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}